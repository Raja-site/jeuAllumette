<!DOCTYPE html>
<html>
    <head>
        <title>Jeu des Allumettes</title>
        <meta charset="utf-8">
		<script>
		function allumettesInit ()
		{
		n= 15 + Math.floor(Math.random()*5);
		
		var ch="";
		for (i=0;i<n;i++)
			ch+="I &nbsp;&nbsp;&nbsp;";
		
		var pp=document.createElement("p");
		pp.innerHTML=ch;
		document.getElementById("allumette").appendChild(pp);
		
		
		var bouton1=document.getElementById("b1");
		bouton1.disabled=false;
		
		var boutonC=document.getElementById("bComm");
		boutonC.disabled=true;
		
			}
		
		function retirer1 ()
		{
		
		// Recupérer la valeur tapée par le joueur 1 dans la variable j1
		var j1=document.getElementById("nombre1").value;
		
		// Tester si cette valeur est différente de 1 ou 2 ou 3 
		if (j1 != 1 && j1 != 2 && j1 != 3 )
			alert ("Valeur incorrecte !!! 1 ou 2 ou 3 sont permises");
		else 
		// Tester si le nombre d'allumettes restante est inférieur à la valeur tapée par le joueur
			if ((n-j1) <=0)
				alert("Nombre d'allumettes restantes inférieur à " + j1)
			else
				{
				// afficher les allumettes restantes avec la couleur du joueur
				n=n-j1;
				var ch="";
				for (i=0;i<n;i++)
					ch+="I &nbsp;&nbsp;&nbsp;";
						
			var pp=document.createElement("p");
			
			pp.style.color="blue";
			pp.innerHTML=ch;
				document.getElementById("allumette").appendChild(pp);
				
				var bouton1=document.getElementById("b1");
					bouton1.disabled=true;
				var bouton2=document.getElementById("b2");
				bouton2.disabled=false;
						
				if (n==1)
					{
					alert ("Le joueur 1 a gagné");
					}
						
				}
				
					
		}
		// Cette fonction n'est pas demandée dans l'examen
		
			function retirer2 ()
		{
		
		// Recupérer la valeur tapée par le joueur 1 dans la variable j1
		var j1=document.getElementById("nombre2").value;
		
		// Tester si cette valeur est différente de 1 ou 2 ou 3 
		if (j1 != 1 && j1 != 2 && j1 != 3 )
			
			alert ("Valeur incorrecte !!! 1 ou 2 ou 3 sont permises");
		else 
		// Tester si le nombre d'allumettes restante est inférieur à la valeur tapée par le joueur
			if ((n-j1) <=0)
				
				alert("Nombre d'allumettes restantes inférieur à " + j1)
			else
				{
				// afficher les allumettes restantes avec la couleur du joueur
					
				n=n-j1;
				var ch="";
				for (i=0;i<n;i++)
					ch+="I &nbsp;&nbsp;&nbsp;";
						
			var pp=document.createElement("p");
			
			pp.style.color="green";
			pp.innerHTML=ch;
				document.getElementById("allumette").appendChild(pp);
				
				var bouton1=document.getElementById("b1");
					bouton1.disabled=false;
				var bouton2=document.getElementById("b2");
				bouton2.disabled=true;
						
				if (n==1)
					{
					alert ("Le joueur 2 a gagné");
					}
				
				
				}
				
				
			
		}
				
		
		</script>
		<style>
		.fondBleu
		{
		background-color : LightBlue;
		}
		.fondVert
		{
		background-color : LightGreen;
		}
		</style>
    </head>
    <body>
		<h1> Jeu des allumettes </h1>
		
		Joueur 1 <input type="number" id="nombre1" class="fondBleu" value="0"/> <input type="button" id="b1" value="Jouer" onclick="retirer1()" disabled='disabled'/> <br><br>
		Joueur 2 <input type="number" id="nombre2" class="fondVert"  value="0"/> <input type="button" id="b2" value="Jouer" onclick="retirer2()" disabled='disabled'/> <br><br>
		
		<input type="button" id="bComm" value="Commencer" onclick="allumettesInit()" />
		
		<p id="allumette"></p>
	   
	 <script>

    </script>
    </body>
</html>
